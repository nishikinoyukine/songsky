package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class CTarjeta_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("    <head>\n");
      out.write("        <title>SONGSKY</title>\n");
      out.write("        <meta charset=\"UTF-8\">\n");
      out.write("        <meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1\">\n");
      out.write("        <link rel=\"stylesheet\" href=\"CSS/fontello.css\">\n");
      out.write("        <link rel=\"stylesheet\" href=\"CSS/userprofile.css\"> \n");
      out.write("        <link rel=\"stylesheet\" href=\"CSS/menuser.css\">   \n");
      out.write("        <link rel=\"stylesheet\" href=\"CSS/portada.css\"> \n");
      out.write("        <link rel=\"stylesheet\" href=\"CSS/tarjeta.css\">\n");
      out.write("        <script src=\"js/jquery.js\"></script>\n");
      out.write("    </head>\n");
      out.write("\n");
      out.write("    \n");
      out.write("    \n");
      out.write("    \n");
      out.write(" <body>\n");
      out.write("        <main>  \n");
      out.write("         <hr color=\"dodgerblue\" size=1>\n");
      out.write("  \n");
      out.write("          <section id=\"formulario\"> \n");
      out.write("              <p id=\"titulo\"><span class=\"icon-credit-card\"> Tarjeta Factura</span></p>\n");
      out.write("              <p id=\"titulo2\"><u><small>Por favor llena todos los campos para proceder con la compra </small></u></p>\n");
      out.write("  \n");
      out.write("               <form action=\"\">\n");
      out.write("                   <p  align=\"left\">\n");
      out.write("                   <label class=\"textolabel\"><small>Direccion:</small> </label>\n");
      out.write("                    <input type=\"text\" id=\"direccion\" name=\"direccion\" required></p>\n");
      out.write("                   \n");
      out.write("                   <p  align=\"left\">\n");
      out.write("                   <label class=\"textolabel\"><small>Ciudad:</small> </label>\n");
      out.write("                    <input type=\"text\" id=\"ciudad\" name=\"ciudad\" required></p>\n");
      out.write("                   \n");
      out.write("                   \n");
      out.write("                   <p  align=\"left\">\n");
      out.write("                   <label class=\"textolabel\"><small>Estado:</small> </label>\n");
      out.write("                   <input type=\"text\" id=\"estado\" name=\"estado\" required></p>\n");
      out.write("                   \n");
      out.write("                     <p  align=\"left\">\n");
      out.write("                    <label class=\"textolabel\"><small>Codigo Postal:</small> </label>\n");
      out.write("                    <input type=\"text\" id=\"cp\" name=\"cp\" required></p>\n");
      out.write("                   \n");
      out.write("                   \n");
      out.write("                   \n");
      out.write("                    <p  align=\"left\">\n");
      out.write("                    <label class=\"textolabel\"><small>Pais: </small></label>\n");
      out.write("                    <select>\n");
      out.write("  <option value=\"seleccionar\">-Selecciona-</option>\n");
      out.write("  <option value=\"mexico\">Mexico</option>\n");
      out.write("  <option value=\"eua\">E.U.A.</option>\n");
      out.write("  <option value=\"canada\">Canada</option>\n");
      out.write("                    </select></p>\n");
      out.write("                   \n");
      out.write("         \n");
      out.write("                   <input type=\"image\" src=\"IMG/americanxpress.png\" height=\"40\" width=\"60\" class=\"imagen2\" /> >\n");
      out.write("                   <input type=\"image\" src=\"IMG/visa.png\" height=\"40\" width=\"60\" class=\"imagen2\" /> >\n");
      out.write("                   <input type=\"image\" src=\"IMG/mastercard.png\" height=\"40\" width=\"60\" class=\"imagen2\" /> >\n");
      out.write("                   <input type=\"image\" src=\"IMG/paypal.jpg\" height=\"40\" width=\"60\" class=\"imagen2\" /> >\n");
      out.write("                \n");
      out.write("        <p  align=\"left\">\n");
      out.write("                   <label class=\"textolabel\"><small>Numero de Tarjeta:</small> </label>\n");
      out.write("        <input type=\"text\" name = \"checkout.cardNumber\" id=\"ccnum\" />\n");
      out.write("        \n");
      out.write("    \n");
      out.write("        \n");
      out.write("        <label class=\"textolabel\"><small>Titular de la tarjeta:</small> </label>\n");
      out.write("        <input type=\"text\" id=\"cp\" name=\"cp\" required>\n");
      out.write("    \n");
      out.write("                   </p>\n");
      out.write("        \n");
      out.write("                   \n");
      out.write("                   <p  align=\"left\">\n");
      out.write("                   <label class=\"textolabel\"><small>Vigencia:</small> </label>\n");
      out.write("          <select name=\"mes\">  \n");
      out.write("            <option value=\"Ene\">Enero</option>\n");
      out.write("            <option value=\"Feb\">Febrero</option>\n");
      out.write("            <option value=\"Mar\">Marzo</option>\n");
      out.write("            <option value=\"Abr\">Abril</option>\n");
      out.write("            <option value=\"May\">Mayo</option>\n");
      out.write("            <option value=\"Jun\">Junio</option>\n");
      out.write("            <option value=\"Jul\">Julio</option>\n");
      out.write("            <option value=\"Ago\">Agosto</option>\n");
      out.write("            <option value=\"Sep\">Septiembre</option>\n");
      out.write("            <option value=\"Oct\">Octubre</option>\n");
      out.write("            <option value=\"Nov\">Noviembre</option>\n");
      out.write("            <option value=\"Dic\">Diciembre</option>        \n");
      out.write("            </select>\n");
      out.write("                       <input type=\"year\" id=\"cp\" name=\"cp\" required>\n");
      out.write("                       \n");
      out.write("    \n");
      out.write("    <label class=\"textolabel\"><small>Numero de seguridad</small> </label>\n");
      out.write("        <input type=\"text\" id=\"cp\" name=\"cp\" required>\n");
      out.write("    \n");
      out.write("                   </p>\n");
      out.write("\n");
      out.write("        \n");
      out.write("    </form>   \n");
      out.write("              \n");
      out.write("              <a href=\"download.jsp\" class=\"button blue medium radius\">\n");
      out.write("\t\t<span class=\"icon-check\"></span>Terminar Compra\n");
      out.write("\t</a>\n");
      out.write("            \n");
      out.write("        <header>\n");
      out.write("            <div class=\"contenedor\">\n");
      out.write("                <h1 class=\"icon-cloud-1\">SONGSKY</h1>\n");
      out.write("                <input type=\"checkbox\" id=\"menu-bar\">\n");
      out.write("                <label class=\"icon-menu\" for=\"menu-bar\"></label>\n");
      out.write("                <nav class=\"menu\">\n");
      out.write("                    <a href=\"Index.jsp\"><i class=\"icon-home\">Home</i></a>\n");
      out.write("                    <a href=\"Carrito.jsp\">Regresar al Carrito</a>\n");
      out.write("                </nav>\n");
      out.write("            </div>    \n");
      out.write("        </header>\n");
      out.write("            \n");
      out.write("           \n");
      out.write("        \n");
      out.write("        </main> \n");
      out.write("     \n");
      out.write("     \n");
      out.write("        <footer>\n");
      out.write("            <div class=\"containerfooter\">\n");
      out.write("                <p class=\"copy\">SONGSKY &copy; 2016</p>\n");
      out.write("                <div class=\"redessociales\">\n");
      out.write("                    <a class=\"icon-facebook\" href=\"#\"></a>\n");
      out.write("                    <a class=\"icon-twitter\" href=\"#\"></a>\n");
      out.write("                    <a class=\"icon-youtube\" href=\"#\"></a>\n");
      out.write("                    <a class=\"icon-instagram\" href=\"#\"></a>\n");
      out.write("                    <a class=\"icon-vimeo\" href=\"#\"></a>\n");
      out.write("                </div>\n");
      out.write("            </div>    \n");
      out.write("        </footer>\n");
      out.write("        \n");
      out.write("      <script>\n");
      out.write("        $(\"#ccnum\").keyup(function(e){\n");
      out.write("    var num = $(this).val().toString();\n");
      out.write("    var charCount = num.length;\n");
      out.write(" \n");
      out.write("    /* VALIDACION DE TIPO */\n");
      out.write("    if(charCount == 1) { \n");
      out.write("        if(num == \"4\"){\n");
      out.write("            $(\"#type\").html(\"VISA\");\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    if(charCount == 2){\n");
      out.write("        if(num == \"34\" || num == \"37\"){\n");
      out.write("            $(\"#type\").html(\"AMEX\");\n");
      out.write("        } else if( num == \"51\" || num == \"55\" || num == \"53\"){\n");
      out.write("            $(\"#type\").html(\"MASTER CARD\");\n");
      out.write("        } else if( num == \"55\" ){\n");
      out.write("            $(\"#type\").html(\"DISCOVER\");\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    if(charCount == 3){\n");
      out.write("        if(num == \"644\"){\n");
      out.write("             $(\"#type\").html(\"DISCOVER\")\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    if(charCount == 4){\n");
      out.write("        if(num == \"6011\"){\n");
      out.write("            $(\"#type\").html(\"DISCOVER\");\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    /* !VALIDACION DE TIPO */\n");
      out.write(" \n");
      out.write("    /* ALGORITMO */\n");
      out.write("    if(charCount == 13 || charCount == 14 || charCount == 15 || charCount == 16){\n");
      out.write("        var valid = isValid(num, charCount);\n");
      out.write("        if(valid){\n");
      out.write("            $(\"#type\").html(\"valida\");\n");
      out.write("            $(\"input\").attr(\"name\", \"checkout.cardNumber\").attr(\"class\", \"valid-card\");\n");
      out.write("        } else {\n");
      out.write("            $(\"#type\").html(\"invalida\");\n");
      out.write("            $(\"input\").attr(\"name\", \"checkout.cardNumber\").attr(\"class\", \"invalid-card\");\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("    /* !ALGORITMO */    \n");
      out.write("});\n");
      out.write(" \n");
      out.write("function isValid(ccNum, charCount){\n");
      out.write("    var double = true;\n");
      out.write("    var numArr = [];\n");
      out.write("    var sumTotal = 0;\n");
      out.write("    for(i=0; i<charCount; i++){\n");
      out.write("        var digit = parseInt(ccNum.charAt(i));\n");
      out.write(" \n");
      out.write("        if(double){\n");
      out.write("            digit = digit * 2;\n");
      out.write("            digit = toSingle(digit);\n");
      out.write("            double = false;\n");
      out.write("        } else {\n");
      out.write("            double = true;\n");
      out.write("        }\n");
      out.write("        numArr.push(digit);\n");
      out.write("    }\n");
      out.write(" \n");
      out.write("    for(i=0; i<numArr.length; i++){\n");
      out.write("        sumTotal += numArr[i];\n");
      out.write("    }\n");
      out.write("    var diff = eval(sumTotal % 10);\n");
      out.write("    console.log(diff);\n");
      out.write("    console.log(diff == \"0\");\n");
      out.write("    return (diff == \"0\");\n");
      out.write("}\n");
      out.write(" \n");
      out.write("function toSingle(digit){\n");
      out.write("    if(digit > 9){\n");
      out.write("        var tmp = digit.toString();\n");
      out.write("        var d1 = parseInt(tmp.charAt(0));\n");
      out.write("        var d2 = parseInt(tmp.charAt(1));\n");
      out.write("        return (d1 + d2); \n");
      out.write("    } else {\n");
      out.write("        return digit;\n");
      out.write("    }\n");
      out.write("}\n");
      out.write("        \n");
      out.write("        \n");
      out.write("        \n");
      out.write("    </script>  \n");
      out.write("        \n");
      out.write("        \n");
      out.write("    </body>\n");
      out.write("</html>");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
